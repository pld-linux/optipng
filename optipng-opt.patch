diff -ruN optipng-0.4.3./src/scripts/Makefile.gcc optipng-0.4.3/src/scripts/Makefile.gcc
--- optipng-0.4.3./src/scripts/Makefile.gcc	2003-05-12 23:11:56.000000000 +0200
+++ optipng-0.4.3/src/scripts/Makefile.gcc	2004-04-21 02:12:00.845088264 +0200
@@ -1,21 +1,24 @@
 # ** OptiPNG
 # ** Quick and dirty makefile for GCC
 
+CC=gcc
+CFLAGS=-O2
+
 all: optipng
 
 optipng: optipng.o opngio.o opngreduc.o cbitset.o \
   wildargs.o libpng.a libz.a
-	gcc -s -o optipng optipng.o opngio.o opngreduc.o cbitset.o \
+	$(CC) -o optipng optipng.o opngio.o opngreduc.o cbitset.o \
 	  wildargs.o libpng.a libz.a
 
 .c.o: #png.h opng.h
-	gcc -c -O2 -I../lib-cos/zlib -I../lib-cos/libpng -Wall $*.c
+	$(CC) -c $(CFLAGS) -I../lib-cos/zlib -I../lib-cos/libpng -Wall $*.c
 
 cbitset.o: cbitset.c cbitset.h
-	gcc -c -O2 -Wall $*.c
+	$(CC) -c $(CFLAGS) -Wall $*.c
 
 wildargs.o: xtra/wildargs.c
-	gcc -c -O2 xtra/wildargs.c
+	$(CC) -c $(CFLAGS) xtra/wildargs.c
 
 libpng.a: ../lib-cos/libpng/libpng.a
 	cp ../lib-cos/libpng/libpng.a libpng.a
@@ -27,4 +30,4 @@
 	cd ../lib-cos/libpng; ${MAKE} -f scripts/makefile.gcc; cd ../../src
 
 ../lib-cos/zlib/libz.a:
-	cd ../lib-cos/zlib; ./configure; ${MAKE}; cd ../../src
+	cd ../lib-cos/zlib; CFLAGS="$(CFLAGS)" CC="$(CC)" ./configure; ${MAKE}; cd ../../src
